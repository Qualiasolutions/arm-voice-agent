<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Call Maria - Armenius Store Cyprus</title>
    <meta name="description" content="Call Maria, the AI assistant for Armenius Store Cyprus. Get help with products, orders, and technical support in Greek and English.">
    <meta name="keywords" content="Armenius Store, Cyprus, computers, electronics, AI assistant, Maria, customer service">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://armenius-store.vercel.app/">
    <meta property="og:title" content="Call Maria - Armenius Store Cyprus">
    <meta property="og:description" content="Cyprus' Premier Computer Store - AI-powered customer service">
    <meta property="og:image" content="/armenius-og.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://armenius-store.vercel.app/">
    <meta property="twitter:title" content="Call Maria - Armenius Store Cyprus">
    <meta property="twitter:description" content="Cyprus' Premier Computer Store - AI-powered customer service">
    <meta property="twitter:image" content="/armenius-og.png">

    <!-- Vapi Web SDK - Multiple CDN fallbacks -->
    <script>
      // Load Vapi SDK with fallback
      (function() {
        function loadVapi() {
          const script = document.createElement('script');
          script.src = 'https://cdn.jsdelivr.net/npm/@vapi-ai/web@latest/dist/index.js';
          script.onload = function() {
            console.log('Vapi SDK loaded successfully');
            initVapi();
          };
          script.onerror = function() {
            console.warn('Primary CDN failed, trying fallback...');
            // Fallback CDN
            const fallbackScript = document.createElement('script');
            fallbackScript.src = 'https://unpkg.com/@vapi-ai/web@latest/dist/index.js';
            fallbackScript.onload = function() {
              console.log('Vapi SDK loaded via fallback CDN');
              initVapi();
            };
            fallbackScript.onerror = function() {
              console.error('Failed to load Vapi SDK from all CDNs');
              showVapiError();
            };
            document.head.appendChild(fallbackScript);
          };
          document.head.appendChild(script);
        }

        function initVapi() {
          try {
            if (typeof Vapi !== 'undefined') {
              window.vapi = new Vapi('32b555af-1fbc-4b6c-81c0-c940b07c6da2');
              console.log('Vapi initialized with assistant ID: 89b5d633-974a-4b58-a6b5-cdbba8c2726a');
            } else {
              throw new Error('Vapi constructor not available');
            }
          } catch (error) {
            console.error('Failed to initialize Vapi:', error);
            showVapiError();
          }
        }

        function showVapiError() {
          // Show user-friendly error message
          setTimeout(function() {
            const errorDiv = document.createElement('div');
            errorDiv.innerHTML = '<div style="position:fixed;top:20px;right:20px;background:#f44336;color:white;padding:15px;border-radius:5px;z-index:9999;">Voice calling temporarily unavailable. Please refresh the page.</div>';
            document.body.appendChild(errorDiv);
          }, 1000);
        }

        // Load when DOM is ready
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', loadVapi);
        } else {
          loadVapi();
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>